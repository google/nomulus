<p>
  <button mat-icon-button aria-label="Go home" [routerLink]="['']">
    <mat-icon>arrow_back</mat-icon>
  </button>
</p>
@if (isLoading) {
<div class="console-app__password-reset-verify-spinner">
  <mat-spinner />
</div>
} @else if (errorMessage) {
<h1 class="mat-headline-4">Failure</h1>
<div class="console-app__password-reset-content">
  <div class="console-app__password-reset-subhead">
    An error occurred: {{ errorMessage }}.<br /><br />Please double-check the
    verification code and try again.
  </div>
</div>
} @else {
<div class="console-app__password-reset-verify">
  <h1 class="mat-headline-4">{{ type }} password reset</h1>
  <form
    (ngSubmit)="save()"
    [formGroup]="passwordUpdateForm"
    class="console-app__password-reset-verify-form"
  >
    <div class="console-app__password-reset-verify-field">
      <mat-form-field appearance="outline">
        <mat-label>New password: </mat-label>
        <input
          matInput
          type="text"
          formControlName="newPassword"
          required
          autocomplete="new-password"
        />
        <mat-error *ngIf="hasError('newPassword') as errorText">{{
          errorText
        }}</mat-error>
      </mat-form-field>
    </div>
    <div class="console-app__password-reset-verify-field">
      <mat-form-field appearance="outline">
        <mat-label>Confirm new password: </mat-label>
        <input
          matInput
          type="text"
          formControlName="newPasswordRepeat"
          required
          autocomplete="new-password"
        />
        <mat-error *ngIf="hasError('newPasswordRepeat') as errorText">{{
          errorText
        }}</mat-error>
      </mat-form-field>
    </div>
    <button
      mat-flat-button
      color="primary"
      [disabled]="!passwordUpdateForm.valid"
      aria-label="Save new password"
      type="submit"
      class="console-app__password-reset-verify-save"
    >
      Save
    </button>
  </form>
</div>
}
